{% extends 'base.html' %}
{% load staticfiles %}
{% block title %} 在线笔记注册  {% endblock %}

{% block custom_css %}
    <link href="{% static 'OnlineNotes/css/register.css' %}" rel="stylesheet">
{% endblock %}

{% block body %}
    <div class="register">
        <div class="container">

          <form action="" method="post" id="login-form">
            <div class="panel panel-default panel-single" id="panel-login">
            <input type="hidden" name="csrfmiddlewaretoken" value="VhE6QrxjL0gEI4fxC7BELbs8YOGF2LOT">

              <div class="panel-heading">

                <h2 class="form-signin-heading">请注册</h2>

              </div>
              <div class="panel-body">
                <div class="{% if msg %} has-error{% endif %}">
                       {% if msg %}
                            <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="text-danger help-block">{{ msg }}</p>
                        {% endif %}
                </div>
                  <div id="div_id_email" class="row {% if register_form.email.errors %} has-error{% endif %}">
                    <div class="controls clearfix">
                    <div class="input-group input-group-lg">
                      <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                      <input class="form-control input-lg" id="id_email" maxlength="254" name="email" type="email" placeholder="请输入您的邮箱!">
                    </div>

                        {% for error in register_form.email.errors %}
                            <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="text-danger help-block">{{ error }}</p>
                        {% endfor %}

                    </div>
                  </div>

                  <div id="div_id_username" class="row {% if register_form.nickname.errors %} has-error{% endif %}">
                    <div class="controls clearfix">
                    <div class="input-group input-group-lg">
                      <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
                      <input class="form-control input-lg" id="id_username" maxlength="254" name="nickname" type="text" placeholder="用户名">
                    </div>

                        {% for error in register_form.nickname.errors %}
                            <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="text-danger help-block">{{ error }}</p>
                        {% endfor %}

                    </div>
                  </div>

                  <div id="div_id_password" class="row {% if register_form.password.errors %} has-error{% endif %}">
                    <div class="controls clearfix">
                    <div class="input-group input-group-lg">
                      <span class="input-group-addon"><i class="fa fa-lock fa-fw"></i></span>
                      <input class="form-control input-lg" id="id_password" name="password" type="password" placeholder="密码">
                    </div>

                        {% for error in register_form.password.errors %}
                            <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="text-danger help-block">{{ error }}</p>
                        {% endfor %}

                    </div>
                  </div>

                  <div id="div_id_username" class="row {% if register_form.captcha.errors %} has-error{% endif %}">
                    <div class="controls clearfix">
                    <div class="input-group input-group-lg captcha1">
                      <span class="input-group-addon"><i class="fa fa-picture-o"></i></span>
                      {{ register_form.captcha }}
                    </div>

                        {% for error in register_form.captcha.errors %}
                            <p id="error_{{ forloop.counter }}_{{ field.auto_id }}" class="text-danger help-block">{{ error }}</p>
                        {% endfor %}

                    </div>
                  </div>

                  <button class="btn btn-lg btn-primary btn-block" type="submit">注册</button>

                  <div class="text-info" style="margin-top:15px;"><a href="{% url 'login' %}"><i class="fa fa-question-sign"></i> 已有账号，去登陆？</a></div>
              </div>

            </div>
           {% csrf_token %}
          </form>

        </div> <!-- /container -->

    </div>
{% endblock %}

{% block custom_js %}
    <script type="text/javascript">
    document.getElementById('id_email').focus()
    </script>
{% endblock %}
